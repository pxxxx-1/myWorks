!function(){var c=jQuery.fn.revolution;jQuery.extend(!0,c,{prepareCarousel:function(a,e,m){m=a.carousel.lastdirection=b(m,a.carousel.lastdirection),k(a),a.carousel.slide_offset_target=h(a),void 0==e?c.carouselToEvalPosition(a,m):j(a,m,!1)},carouselToEvalPosition:function(p,w){var q=p.carousel;w=q.lastdirection=b(w,q.lastdirection);var u="center"===q.horizontal_align?(q.wrapwidth/2-q.slide_width/2-q.slide_globaloffset)/q.slide_width:(0-q.slide_globaloffset)/q.slide_width,v=c.simp(u,p.slideamount,!1),s=v-Math.floor(v),a=0,e=-1*(Math.ceil(v)-v),m=-1*(Math.floor(v)-v);a=s>=0.3&&"left"===w||s>=0.7&&"right"===w?e:0.3>s&&"left"===w||0.7>s&&"right"===w?m:a,a="off"===q.infinity?0>v?v:u>p.slideamount-1?u-(p.slideamount-1):a:a,q.slide_offset_target=a*q.slide_width,0!==Math.abs(q.slide_offset_target)?j(p,w,!0):c.organiseCarousel(p,w)},organiseCarousel:function(q,v,B,m){v=void 0===v||"down"==v||"up"==v||null===v||jQuery.isEmptyObject(v)?"left":v;for(var A=q.carousel,w=new Array,y=A.slides.length,z="right"===A.horizontal_align?z=q.width:0,x=0;y>x;x++){var p=x*A.slide_width+A.slide_offset;"on"===A.infinity&&(p=p>A.wrapwidth-A.inneroffset&&"right"==v?A.slide_offset-(A.slides.length-x)*A.slide_width:p,p=p<0-A.inneroffset-A.slide_width&&"left"==v?p+A.maxwidth:p),w[x]=p}var u=999;A.slides&&jQuery.each(A.slides,function(e,t){var s=w[e];"on"===A.infinity&&(s=s>A.wrapwidth-A.inneroffset&&"left"===v?w[0]-(y-e)*A.slide_width:s,s=s<0-A.inneroffset-A.slide_width?"left"==v?s+A.maxwidth:"right"===v?w[y-1]+(e+1)*A.slide_width:s:s);var l=new Object;l.left=s+A.inneroffset;var o="center"===A.horizontal_align?(Math.abs(A.wrapwidth/2)-(l.left+A.slide_width/2))/A.slide_width:(A.inneroffset-l.left)/A.slide_width,C="center"===A.horizontal_align?2:1;if((B&&Math.abs(o)<u||0===o)&&(u=Math.abs(o),A.focused=e),l.width=A.slide_width,l.x=0,l.transformPerspective=1200,l.transformOrigin="50% "+A.vertical_align,"on"===A.fadeout){if("on"===A.vary_fade){l.autoAlpha=1-Math.abs(1/Math.ceil(A.maxVisibleItems/C)*o)}else{switch(A.horizontal_align){case"center":l.autoAlpha=Math.abs(o)<Math.ceil(A.maxVisibleItems/C-1)?1:1-(Math.abs(o)-Math.floor(Math.abs(o)));break;case"left":l.autoAlpha=1>o&&o>0?1-o:Math.abs(o)>A.maxVisibleItems-1?1-(Math.abs(o)-(A.maxVisibleItems-1)):1;break;case"right":l.autoAlpha=o>-1&&0>o?1-Math.abs(o):o>A.maxVisibleItems-1?1-(Math.abs(o)-(A.maxVisibleItems-1)):1}}}else{l.autoAlpha=Math.abs(o)<Math.ceil(A.maxVisibleItems/C)?1:0}if(void 0!==A.minScale&&A.minScale>0){if("on"===A.vary_scale){l.scale=1-Math.abs(A.minScale/100/Math.ceil(A.maxVisibleItems/C)*o);var i=(A.slide_width-A.slide_width*l.scale)*Math.abs(o)}else{l.scale=o>=1||-1>=o?1-A.minScale/100:(100-A.minScale*Math.abs(o))/100;var i=(A.slide_width-A.slide_width*(1-A.minScale/100))*Math.abs(o)}}void 0!==A.maxRotation&&0!=Math.abs(A.maxRotation)&&("on"===A.vary_rotation?(l.rotationY=Math.abs(A.maxRotation)-Math.abs((1-Math.abs(1/Math.ceil(A.maxVisibleItems/C)*o))*A.maxRotation),l.autoAlpha=Math.abs(l.rotationY)>90?0:l.autoAlpha):l.rotationY=o>=1||-1>=o?A.maxRotation:Math.abs(o)*A.maxRotation,l.rotationY=0>o?-1*l.rotationY:l.rotationY),l.x=-1*A.space*o,l.left=Math.floor(l.left),l.x=Math.floor(l.x),void 0!==l.scale?0>o?l.x-i:l.x+i:l.x,l.zIndex=Math.round(100-Math.abs(5*o)),l.transformStyle="3D"!=q.parallax.type&&"3d"!=q.parallax.type?"flat":"preserve-3d",punchgs.TweenLite.set(t,l)}),m&&(q.c.find(".next-revslide").removeClass("next-revslide"),jQuery(A.slides[A.focused]).addClass("next-revslide"),q.c.trigger("revolution.nextslide.waiting"));A.wrapwidth/2-A.slide_offset,A.maxwidth+A.slide_offset-A.wrapwidth/2}});var d=function(a){var l=a.carousel;l.infbackup=l.infinity,l.maxVisiblebackup=l.maxVisibleItems,l.slide_globaloffset="none",l.slide_offset=0,l.wrap=a.c.find(".tp-carousel-wrapper"),l.slides=a.c.find(".tp-revslider-slidesli"),0!==l.maxRotation&&("3D"!=a.parallax.type&&"3d"!=a.parallax.type?punchgs.TweenLite.set(l.wrap,{perspective:1200,transformStyle:"flat"}):punchgs.TweenLite.set(l.wrap,{perspective:1600,transformStyle:"preserve-3d"})),void 0!==l.border_radius&&parseInt(l.border_radius,0)>0&&punchgs.TweenLite.set(a.c.find(".tp-revslider-slidesli"),{borderRadius:l.border_radius})},k=function(p){void 0===p.bw&&c.setSize(p);var e=p.carousel,n=c.getHorizontalOffset(p.c,"left"),i=c.getHorizontalOffset(p.c,"right");void 0===e.wrap&&d(p),e.slide_width="on"!==e.stretch?p.gridwidth[p.curWinRange]*p.bw:p.c.width(),e.maxwidth=p.slideamount*e.slide_width,e.maxVisiblebackup>e.slides.length+1&&(e.maxVisibleItems=e.slides.length+2),e.wrapwidth=e.maxVisibleItems*e.slide_width+(e.maxVisibleItems-1)*e.space,e.wrapwidth="auto"!=p.sliderLayout?e.wrapwidth>p.c.closest(".tp-simpleresponsive").width()?p.c.closest(".tp-simpleresponsive").width():e.wrapwidth:e.wrapwidth>p.ul.width()?p.ul.width():e.wrapwidth,e.infinity=e.wrapwidth>=e.maxwidth?"off":e.infbackup,e.wrapoffset="center"===e.horizontal_align?(p.c.width()-i-n-e.wrapwidth)/2:0,e.wrapoffset="auto"!=p.sliderLayout&&p.outernav?0:e.wrapoffset<n?n:e.wrapoffset;var m="hidden";("3D"==p.parallax.type||"3d"==p.parallax.type)&&(m="visible"),"right"===e.horizontal_align?punchgs.TweenLite.set(e.wrap,{left:"auto",right:e.wrapoffset+"px",width:e.wrapwidth,overflow:m}):punchgs.TweenLite.set(e.wrap,{right:"auto",left:e.wrapoffset+"px",width:e.wrapwidth,overflow:m}),e.inneroffset="right"===e.horizontal_align?e.wrapwidth-e.slide_width:0,e.realoffset=Math.abs(e.wrap.position().left),e.windhalf=jQuery(window).width()/2},b=function(a,l){return null===a||jQuery.isEmptyObject(a)?l:void 0===a?"right":a},j=function(a,p,n){var e=a.carousel;p=e.lastdirection=b(p,e.lastdirection);var m=new Object;m.from=0,m.to=e.slide_offset_target,void 0!==e.positionanim&&e.positionanim.pause(),e.positionanim=punchgs.TweenLite.to(m,1.2,{from:m.to,onUpdate:function(){e.slide_offset=e.slide_globaloffset+m.from,e.slide_offset=c.simp(e.slide_offset,e.maxwidth),c.organiseCarousel(a,p,!1,!1)},onComplete:function(){e.slide_globaloffset="off"===e.infinity?e.slide_globaloffset+e.slide_offset_target:c.simp(e.slide_globaloffset+e.slide_offset_target,e.maxwidth),e.slide_offset=c.simp(e.slide_offset,e.maxwidth),c.organiseCarousel(a,p,!1,!0);var i=jQuery(a.li[e.focused]);a.c.find(".next-revslide").removeClass("next-revslide"),n&&c.callingNewSlide(a,a.c,i.data("index"))},ease:punchgs.Expo.easeOut})},f=function(a,l){return Math.abs(a)>Math.abs(l)?a>0?a-Math.abs(Math.floor(a/l)*l):a+Math.abs(Math.floor(a/l)*l):a},g=function(m,n,p){var p,p,l=n-m,o=n-p-m;return l=f(l,p),o=f(o,p),Math.abs(l)>Math.abs(o)?o:l},h=function(m){var p=0,e=m.carousel;if(void 0!==e.positionanim&&e.positionanim.kill(),"none"==e.slide_globaloffset){e.slide_globaloffset=p="center"===e.horizontal_align?e.wrapwidth/2-e.slide_width/2:0}else{e.slide_globaloffset=e.slide_offset,e.slide_offset=0;var o=m.c.find(".processing-revslide").index(),n="center"===e.horizontal_align?(e.wrapwidth/2-e.slide_width/2-e.slide_globaloffset)/e.slide_width:(0-e.slide_globaloffset)/e.slide_width;n=c.simp(n,m.slideamount,!1),o=o>=0?o:m.c.find(".active-revslide").index(),o=o>=0?o:0,p="off"===e.infinity?n-o:-g(n,o,m.slideamount),p*=e.slide_width}return p}}(jQuery);