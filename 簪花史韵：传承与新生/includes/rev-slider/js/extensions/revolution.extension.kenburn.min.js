!function(){var a=jQuery.fn.revolution;jQuery.extend(!0,a,{stopKenBurn:function(b){void 0!=b.data("kbtl")&&b.data("kbtl").pause()},startKenBurn:function(D,q,f){var B=D.data(),y=D.find(".defaultimg"),C=y.data("lazyload")||y.data("src"),w=(B.owidth/B.oheight,"carousel"===q.sliderType?q.carousel.slide_width:q.ul.width()),z=q.ul.height();D.data("kbtl")&&D.data("kbtl").kill(),f=f||0,0==D.find(".tp-kbimg").length&&(D.append('<div class="tp-kbimg-wrap" style="z-index:2;width:100%;height:100%;top:0px;left:0px;position:absolute;"><img class="tp-kbimg" src="'+C+'" style="position:absolute;" width="'+B.owidth+'" height="'+B.oheight+'"></div>'),D.data("kenburn",D.find(".tp-kbimg")));var m=function(M,g,b,K,H,L,F){var I=M*b,c=g*b,G=Math.abs(K-I),E=Math.abs(H-c),J=new Object;return J.l=(0-L)*G,J.r=J.l+I,J.t=(0-F)*E,J.b=J.t+c,J.h=L,J.v=F,J},x=function(G,c,b,E,h){var F=G.bgposition.split(" ")||"center center",d="center"==F[0]?"50%":"left"==F[0]||"left"==F[1]?"0%":"right"==F[0]||"right"==F[1]?"100%":F[0],p="center"==F[1]?"50%":"top"==F[0]||"top"==F[1]?"0%":"bottom"==F[0]||"bottom"==F[1]?"100%":F[1];d=parseInt(d,0)/100||0,p=parseInt(p,0)/100||0;var g=new Object;return g.start=m(h.start.width,h.start.height,h.start.scale,c,b,d,p),g.end=m(h.start.width,h.start.height,h.end.scale,c,b,d,p),g},v=function(R,H,l){var P=l.scalestart/100,M=l.scaleend/100,Q=void 0!=l.oofsetstart?l.offsetstart.split(" ")||[0,0]:[0,0],L=void 0!=l.offsetend?l.offsetend.split(" ")||[0,0]:[0,0];l.bgposition="center center"==l.bgposition?"50% 50%":l.bgposition;var N=new Object,G=R*P,K=(G/l.owidth*l.oheight,R*M);K/l.owidth*l.oheight;if(N.start=new Object,N.starto=new Object,N.end=new Object,N.endo=new Object,N.start.width=R,N.start.height=N.start.width/l.owidth*l.oheight,N.start.height<H){var O=H/N.start.height;N.start.height=H,N.start.width=N.start.width*O}N.start.transformOrigin=l.bgposition,N.start.scale=P,N.end.scale=M,N.start.rotation=l.rotatestart+"deg",N.end.rotation=l.rotateend+"deg";var J=x(l,R,H,Q,N);Q[0]=parseFloat(Q[0])+J.start.l,L[0]=parseFloat(L[0])+J.end.l,Q[1]=parseFloat(Q[1])+J.start.t,L[1]=parseFloat(L[1])+J.end.t;var F=J.start.r-J.start.l,E=J.start.b-J.start.t,S=J.end.r-J.end.l,I=J.end.b-J.end.t;return Q[0]=Q[0]>0?0:F+Q[0]<R?R-F:Q[0],L[0]=L[0]>0?0:S+L[0]<R?R-S:L[0],Q[1]=Q[1]>0?0:E+Q[1]<H?H-E:Q[1],L[1]=L[1]>0?0:I+L[1]<H?H-I:L[1],N.starto.x=Q[0]+"px",N.starto.y=Q[1]+"px",N.endo.x=L[0]+"px",N.endo.y=L[1]+"px",N.end.ease=N.endo.ease=l.ease,N.end.force3D=N.endo.force3D=!0,N};void 0!=D.data("kbtl")&&(D.data("kbtl").kill(),D.removeData("kbtl"));var A=D.data("kenburn"),u=A.parent(),k=v(w,z,B),j=new punchgs.TimelineLite;j.pause(),k.start.transformOrigin="0% 0%",k.starto.transformOrigin="0% 0%",j.add(punchgs.TweenLite.fromTo(A,B.duration/1000,k.start,k.end),0),j.add(punchgs.TweenLite.fromTo(u,B.duration/1000,k.starto,k.endo),0),j.progress(f),j.play(),D.data("kbtl",j)}})}(jQuery);